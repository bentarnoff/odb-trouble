{
    "docs": [
        {
            "location": "/", 
            "text": "ODB TROUBLESHOOTING GUIDE\n\n\nUsing BOSH to access logs and SSH\n\n\n\n\nFollow the steps described here to \ntarget your BOSH CLI\n and \nlog-in to your CF CLI\n\n\n\n\nAccessing broker logs and VM(s)\n\n\n\n\nIdentify the ODB deployment using \nbosh deployments\n\n\nDownload the ODB manifest using \nbosh download manifest \nodb-deployment-name\n odb.yml\n\n\nSelect the ODB deployment using \nbosh deployment odb.yml\n\n\nView VMs in the deployment using \nbosh instances\n\n\nDownload broker logs by using the \nbosh logs \ninstance-id\n command\n\n\n\n\nAccessing service instance logs and VM(s)\n\n\n\n\n\n\nTo target an individual service instance deployment, retrieve the \nthe guid of your service instance with the CF CLI command \n$ cf service \n{\nYOUR_SERVICE\n}\n --guid\n\n\n\n\n\n\nPre-pend the text \"service_instance-\" to the guid you just obtained to create the ID that BOSH uses for your service instance (e.g. if your guid is \n1Hy6H\n), this becomes \nservice_instance-1Hy6H\n).\n\n\n\n\n\n\nDownload your bosh manifest for the service using \n$ bosh download manifest service_instance-guid myservice.yml\n\n\n\n\nSelect the deployment using \nbosh deployment myservice.yml\n\n\nView VMs in the deployment using \nbosh instances\n\n\nDownload broker logs by using the \nbosh logs \ninstance-id\n command\n\n\nTo ssh onto the VM use \nbosh ssh \ninstance-id\n\n\n\n\nViewing resource saturation and scaling resources\n\n\nOnce a deployment has been selected, you can use the \nbosh vms --vitals\n or the \nbosh instances --vitals\n commands to view current resource utilization. You can also view process level information by using \nbosh instances --ps\n.\n\n\nParsing a CF error message\n\n\nFailed operations (create, update, bind, unbind, delete) will result in an error message that can be retrieved using the CF cli\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n$ cf service myservice\n\nService instance: myservice\nService: super-db\nBound apps:\nTags:\nPlan: dedicated-vm\nDescription: Dedicated Instance\nDocumentation url:\nDashboard: \n\nLast Operation\nStatus: create failed\n\nMessage: Instance provisioning failed: There was a problem completing your request. \n\n         Please contact your operations team providing the following information: \n\n         service: redis-acceptance, \n\n         service-instance-guid: ae9e232c-0bd5-4684-af27-1b08b0c70089,\n\n         broker-request-id: 63da3a35-24aa-4183-aec6-db8294506bac, \n\n         task-id: \n442\n, \n\n         operation: create\n\nStarted: \n2017\n-03-13T10:16:55Z\nUpdated: \n2017\n-03-13T10:17:58Z\n\n\n\n\nThe information under the \"Message\" field can be used to debug further. Please provide this information to Pivotal Support when filing a ticket.\n\n\nThe \ntask-id\n field maps to the BOSH task id. For further information on a failed BOSH task, use the \nbosh task \ntask-id\n command in the BOSH CLI.\n\n\nThe \nbroker-request-guid\n maps to the portion of the On-Demand Broker log containing the failed step. Access the broker log via your syslog aggregator, or access bosh logs for the broker by typing \nbosh logs broker 0\n. If you have more than one broker instance, you will need to repeat this process for each instance.\n\n\nCommon Errors\n\n\nBOSH problems\n\n\nService Broker configuration\n\n\nAuthentication\n\n\nNetworking\n\n\nQuotas\n\n\nCleaning up stale references manually\n\n\nFiling a support ticket\n\n\nMonitoring recommendations\n\n\nKnowledge Base (Community)", 
            "title": "Home"
        }, 
        {
            "location": "/#odb-troubleshooting-guide", 
            "text": "", 
            "title": "ODB TROUBLESHOOTING GUIDE"
        }, 
        {
            "location": "/#using-bosh-to-access-logs-and-ssh", 
            "text": "Follow the steps described here to  target your BOSH CLI  and  log-in to your CF CLI", 
            "title": "Using BOSH to access logs and SSH"
        }, 
        {
            "location": "/#accessing-broker-logs-and-vms", 
            "text": "Identify the ODB deployment using  bosh deployments  Download the ODB manifest using  bosh download manifest  odb-deployment-name  odb.yml  Select the ODB deployment using  bosh deployment odb.yml  View VMs in the deployment using  bosh instances  Download broker logs by using the  bosh logs  instance-id  command", 
            "title": "Accessing broker logs and VM(s)"
        }, 
        {
            "location": "/#accessing-service-instance-logs-and-vms", 
            "text": "To target an individual service instance deployment, retrieve the \nthe guid of your service instance with the CF CLI command  $ cf service  { YOUR_SERVICE }  --guid    Pre-pend the text \"service_instance-\" to the guid you just obtained to create the ID that BOSH uses for your service instance (e.g. if your guid is  1Hy6H ), this becomes  service_instance-1Hy6H ).    Download your bosh manifest for the service using  $ bosh download manifest service_instance-guid myservice.yml   Select the deployment using  bosh deployment myservice.yml  View VMs in the deployment using  bosh instances  Download broker logs by using the  bosh logs  instance-id  command  To ssh onto the VM use  bosh ssh  instance-id", 
            "title": "Accessing service instance logs and VM(s)"
        }, 
        {
            "location": "/#viewing-resource-saturation-and-scaling-resources", 
            "text": "Once a deployment has been selected, you can use the  bosh vms --vitals  or the  bosh instances --vitals  commands to view current resource utilization. You can also view process level information by using  bosh instances --ps .", 
            "title": "Viewing resource saturation and scaling resources"
        }, 
        {
            "location": "/#parsing-a-cf-error-message", 
            "text": "Failed operations (create, update, bind, unbind, delete) will result in an error message that can be retrieved using the CF cli   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22 $ cf service myservice\n\nService instance: myservice\nService: super-db\nBound apps:\nTags:\nPlan: dedicated-vm\nDescription: Dedicated Instance\nDocumentation url:\nDashboard: \n\nLast Operation\nStatus: create failed Message: Instance provisioning failed: There was a problem completing your request.           Please contact your operations team providing the following information:           service: redis-acceptance,           service-instance-guid: ae9e232c-0bd5-4684-af27-1b08b0c70089,          broker-request-id: 63da3a35-24aa-4183-aec6-db8294506bac,           task-id:  442 ,           operation: create Started:  2017 -03-13T10:16:55Z\nUpdated:  2017 -03-13T10:17:58Z  \nThe information under the \"Message\" field can be used to debug further. Please provide this information to Pivotal Support when filing a ticket.  The  task-id  field maps to the BOSH task id. For further information on a failed BOSH task, use the  bosh task  task-id  command in the BOSH CLI.  The  broker-request-guid  maps to the portion of the On-Demand Broker log containing the failed step. Access the broker log via your syslog aggregator, or access bosh logs for the broker by typing  bosh logs broker 0 . If you have more than one broker instance, you will need to repeat this process for each instance.", 
            "title": "Parsing a CF error message"
        }, 
        {
            "location": "/#common-errors", 
            "text": "", 
            "title": "Common Errors"
        }, 
        {
            "location": "/#bosh-problems", 
            "text": "", 
            "title": "BOSH problems"
        }, 
        {
            "location": "/#service-broker-configuration", 
            "text": "", 
            "title": "Service Broker configuration"
        }, 
        {
            "location": "/#authentication", 
            "text": "", 
            "title": "Authentication"
        }, 
        {
            "location": "/#networking", 
            "text": "", 
            "title": "Networking"
        }, 
        {
            "location": "/#quotas", 
            "text": "", 
            "title": "Quotas"
        }, 
        {
            "location": "/#cleaning-up-stale-references-manually", 
            "text": "", 
            "title": "Cleaning up stale references manually"
        }, 
        {
            "location": "/#filing-a-support-ticket", 
            "text": "", 
            "title": "Filing a support ticket"
        }, 
        {
            "location": "/#monitoring-recommendations", 
            "text": "", 
            "title": "Monitoring recommendations"
        }, 
        {
            "location": "/#knowledge-base-community", 
            "text": "", 
            "title": "Knowledge Base (Community)"
        }, 
        {
            "location": "/index2/", 
            "text": "ON-DEMAND SERVICES: TROUBLESHOOTING GUIDE\n\n\nCreating a service instance\n\n\nIf you are unable to create a new service instance via Apps Manager or the CF CLI, perform the following steps to diagnose and resolve the issue:\n\n\nThe first step is to retrieve the last error message from the cloud controller by running \n$ cf service \n{\nYOURSERVICEINSTANCE\n}\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n$\n \ncf\n \nservice\n \nmyservice\n\n\nService\n \ninstance\n:\n \nmyservice\n\n\nService:\n \nsuper\n-\ndb\n\n\nBound\n \napps\n:\n\n\nTags:\n\n\nPlan:\n \ndedicated\n-\nvm\n\n\nDescription:\n \nDedicated\n \nInstance\n\n\nDocumentation\n \nurl\n:\n\n\nDashboard:\n \n\n\nLast\n \nOperation\n\n\nStatus:\n \ncreate\n \nfailed\n\n\nMessage:\n \n{\nERROR\n \nMESSAGE\n \nOUTPUT\n \nTO\n \nCOPY\n}\n\n\nStarted:\n \n2017\n-\n03\n-\n13\nT10\n:\n16\n:\n55\nZ\n\n\nUpdated:\n \n2017\n-\n03\n-\n13\nT10\n:\n17\n:\n58\nZ\n\n\n\n\n\n\n\nBOSH issues\n\n\n1\n2\n3\n4\n5\n6\n7\nInstance provisioning failed: There was a problem completing your request. \nPlease contact your operations team providing the following information: \nservice: redis-acceptance, \nservice-instance-guid: ae9e232c-0bd5-4684-af27-1b08b0c70089, \nbroker-request-id: 63da3a35-24aa-4183-aec6-db8294506bac, \ntask-id: 442, \noperation: create\n\n\n\n\n\n\nErrors like the above require that you trace the error back to the originating component. In this case, we'll use the provided \ntask-id\n to retrieve the task summary from BOSH so we can dig deeper. If you are unfamiliar with how to connect to BOSH, please read the (Advanced Troubleshooting with the BOSH CLI,\nhttps://docs.pivotal.io/pivotalcf/1-9/customizing/trouble-advanced.html#cli\n) article. \n\n\nOnce you've connected to the BOSH director using the BOSH CLI, run the following command:\n\n\n1\n2\n$ bosh task \n{\nYOUR_TASK_ID\n}\n\n$ \n[\nINSERT BOSH TASK OUTPUT HERE\n]\n\n\n\n\n\n\n\nManifest issues\n\n\nSometimes, errors can result from misconfiguration of the Service Broker in Ops Manager. You can retrieve the manifest being used by BOSH by performing the following steps:\n\n\nFirst, retrieve the guid of your service instance with the following command:\n\n\n1\n$ cf service \n{\nYOUR_SERVICE\n}\n --guid\n\n\n\n\n\n\nSecond, pre-pend the text \"service_instance-\" to the guid you just obtained to create the ID that BOSH uses for your service instance (e.g. if your guid is 1Hy6H), this becomes service_instance-1Hy6H).\n\n\nThird, download your bosh manifest for the service \n\n\n1\n$ bosh download manifest \n{\nBOSH_ID_OF_SI\n}\n myservice.yml\n\n\n\n\n\n\nInspect the manifest for any discrepancies from desired values. You may want to change these values in Ops Manager and redeploy the tile.", 
            "title": "Index2"
        }, 
        {
            "location": "/index2/#on-demand-services-troubleshooting-guide", 
            "text": "", 
            "title": "ON-DEMAND SERVICES: TROUBLESHOOTING GUIDE"
        }, 
        {
            "location": "/index2/#creating-a-service-instance", 
            "text": "If you are unable to create a new service instance via Apps Manager or the CF CLI, perform the following steps to diagnose and resolve the issue:  The first step is to retrieve the last error message from the cloud controller by running  $ cf service  { YOURSERVICEINSTANCE }   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15 $   cf   service   myservice  Service   instance :   myservice  Service:   super - db  Bound   apps :  Tags:  Plan:   dedicated - vm  Description:   Dedicated   Instance  Documentation   url :  Dashboard:   Last   Operation  Status:   create   failed  Message:   { ERROR   MESSAGE   OUTPUT   TO   COPY }  Started:   2017 - 03 - 13 T10 : 16 : 55 Z  Updated:   2017 - 03 - 13 T10 : 17 : 58 Z", 
            "title": "Creating a service instance"
        }, 
        {
            "location": "/index2/#bosh-issues", 
            "text": "1\n2\n3\n4\n5\n6\n7 Instance provisioning failed: There was a problem completing your request. \nPlease contact your operations team providing the following information: \nservice: redis-acceptance, \nservice-instance-guid: ae9e232c-0bd5-4684-af27-1b08b0c70089, \nbroker-request-id: 63da3a35-24aa-4183-aec6-db8294506bac, \ntask-id: 442, \noperation: create   Errors like the above require that you trace the error back to the originating component. In this case, we'll use the provided  task-id  to retrieve the task summary from BOSH so we can dig deeper. If you are unfamiliar with how to connect to BOSH, please read the (Advanced Troubleshooting with the BOSH CLI, https://docs.pivotal.io/pivotalcf/1-9/customizing/trouble-advanced.html#cli ) article.   Once you've connected to the BOSH director using the BOSH CLI, run the following command:  1\n2 $ bosh task  { YOUR_TASK_ID } \n$  [ INSERT BOSH TASK OUTPUT HERE ]", 
            "title": "BOSH issues"
        }, 
        {
            "location": "/index2/#manifest-issues", 
            "text": "Sometimes, errors can result from misconfiguration of the Service Broker in Ops Manager. You can retrieve the manifest being used by BOSH by performing the following steps:  First, retrieve the guid of your service instance with the following command:  1 $ cf service  { YOUR_SERVICE }  --guid   Second, pre-pend the text \"service_instance-\" to the guid you just obtained to create the ID that BOSH uses for your service instance (e.g. if your guid is 1Hy6H), this becomes service_instance-1Hy6H).  Third, download your bosh manifest for the service   1 $ bosh download manifest  { BOSH_ID_OF_SI }  myservice.yml   Inspect the manifest for any discrepancies from desired values. You may want to change these values in Ops Manager and redeploy the tile.", 
            "title": "Manifest issues"
        }
    ]
}